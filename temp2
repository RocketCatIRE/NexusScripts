<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Starmourn</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online client for the Iron Realms multiplayer role-playing games">
    <meta name="author" content="Iron Realms">

    <!-- Le styles -->
	<link type="text/css" media="screen" rel="stylesheet" href="includes/js/lib/colorbox/colorbox.css?2.10"/>
    <link type="text/css" media="screen" rel="stylesheet" href="/includes/css/jquery.contextMenu.css?2.10"/>
	<link type="text/css" media="screen" rel="stylesheet" href="/includes/css/dropzone.css?2.10"/>

    <link type="text/css" media="screen" rel="stylesheet" href="/includes/css/jquery-ui-1.12.1.css"/>
    <link rel="stylesheet" type="text/css" href="/includes/css/styles_client.css?0.59304900 1548662944"/>
    <link id="css_style" rel="stylesheet" type="text/css" href=""/>
    <link rel="stylesheet" type="text/css" href="/includes/css/reverted.css?0.59305500 1548662944"/>
    <link rel="stylesheet" type="text/css" href="/includes/css/login.css?0.59305600 1548662944"/>
    <link id="css_styles" rel="stylesheet" type="text/css" href="/games/starmourn/css/styles_client.css?0.59305700 1548662944"/>

    <!-- font awesome -->
    <link rel="stylesheet" href="/includes/font-awesome/css/font-awesome.min.css?0.59305800 1548662944" />

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/games/starmourn/images/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/games/starmourn/images/logo-144.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/games/starmourn/images/logo-114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/games/starmourn/images/logo-72.png">
    <link rel="apple-touch-icon-precomposed" href="/games/starmourn/images/logo-57.png">

    <script>document.domain = document.domain;</script>

    <script type="text/javascript">
        // +++ //
        var settings_window;
        var wshost = "starmourn.com";
        var wsport = "80";
        var wsport_ssl = "443";
        var wsdir = "/socket/";
        var wshost2 = "ironrealms.com";
        var wsport2 = "12006";
        var wsdir2 = "";
        var game = "Starmourn";
        var title = "Starmourn";
        var files = "/games/starmourn";
        var intro_sound = "midkemia";
        var adsource = "IRE-ChroMUD";
        var help_url = "https://www.starmourn.com/game/helpview/starmourn/";
        var client_version = "2.10";
        var avatar_count = 0;
        var rift_caption = "";
        var rift_in = "";
        var rift_out = "";
        var sfx = [ "alarm", "alarm beep", "alarm beep 2", "alarm clock beep 3", "anvil hit", "arcade sound", "arrow impact wood", "baby laugh", "bang", "beep", "beep 2", "beep click", "beep long", "beep repeating", "bell", "bike horn double honk", "bleep", "bleep 2", "blip sonar", "boom", "bottle clang", "branch snap", "bullwhip", "button click", "button pop", "cartoon arpeggio", "cartoon female come on", "cartoon female help", "cartoon female idea", "cartoon female really", "cartoon female tyvm", "cartoon fting", "cartoon happy monster", "cartoon hello", "cartoon male ah hah", "cartoon male alright!", "cartoon male fiddle faddle", "cartoon male flying", "cartoon male oh man", "cartoon male uh oh", "cartoon male yeah", "cartoon slip", "cartoon squeak", "cat meow", "cat meow 2", "clang", "clank", "click", "click 10", "click 11", "click 2", "click 3", "click 4", "click 5", "click 6", "click 7", "click 8", "click 9", "click mouse", "clock chime", "clock chime 2", "clock chime 3", "clock ding", "cock pop", "coin drop", "coin drop 2", "coin drop 3", "comic sound", "cow moo", "cowbell", "crowd gasp", "crunch bite", "desk bell", "ding", "ding 2", "dog bark", "dog bark 2", "door close", "door close 2", "door close 3", "door knock", "door knock 2", "door lock", "drum", "drums 2", "eagle", "electric", "emergency", "emergency siren", "exhale", "explosion", "explosion 2", "finger snap", "firecracker", "game over", "gasp female", "girl giggle", "glass break", "glass clink", "glass jar break", "growl", "gruntasaurus", "horn", "horse neigh", "horse snort", "horse whinny", "jump", "kiss", "knifes", "knives 2", "lamb", "laugh evil male", "laugh evil male 2", "laugh evil male 3", "lion growl", "lion roar", "monkey", "monster roar", "monster roar 2", "pig", "pop", "punched", "punched 2", "punched male", "rewind", "shave and a haircut", "shimmer", "shimmer 2", "shimmer 3", "sigh male", "slide", "slide 2", "snake", "spell", "spell 2", "spell 3", "spell 4", "spell 5", "spell 6", "spell 7", "spell 8", "spring", "submarine diving", "suction", "swoosh", "swoosh 2", "swoosh 3", "swoosh deep", "swoosh deep 2", "thud", "violin ascending", "wet tongue", "whistle", "whistle 2", "whoo", "xylophone", "xylophone 3", "xylpophone 2", "yell girl", "yell male", "yell woman", "zip" ];
        var css_suffix = "0.59313800 1548662944";
    </script>

    <!-- Various and assorted 3rd party libraries -->
<script type="text/javascript" src="/includes/js/lib/jquery-3.2.1.min.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/colorbox/jquery.colorbox-min.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery-ui-1.12.1.min.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery.textarea.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery.mousewheel.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery.scrollTo.min.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery.contextMenu.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery.nicescroll.min.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery.event.move.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/jquery.event.swipe.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/buzz.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/lzw.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/dropzone.js?2.10"></script><script type="text/javascript" src="/includes/js/lib/pako.min.js?2.10"></script>
	
			<script type="text/javascript">
				mudhost = "starmourn.com";
				mudport = "23";
			</script>
			
<script type="text/javascript">
if (!window.WebSocket && window.MozWebSocket)
    window.WebSocket = window.MozWebSocket;
if (!window.WebSocket)
    document.location.href = "/websockets.php?game=" + window.game;
</script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', '???']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

    <script type="text/javascript">
        var _kmq = _kmq || [];
        var _kmk = _kmk || '???';
        function _kms(u){
        setTimeout(function(){
        var d = document, f = d.getElementsByTagName('script')[0],
        s = d.createElement('script');
        s.type = 'text/javascript'; s.async = true; s.src = u;
        f.parentNode.insertBefore(s, f);
        }, 1);
        }
        _kms('//i.kissmetrics.com/i.js');
        _kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');
    </script>

    <script type="text/javascript">

        // check if we're on a mobile device
        mobilecheck = function() {
            var check = false;
            (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);
            return check; }
        var real_mobile = mobilecheck();
        var mobile = real_mobile;

        $(document).ready(function () {

            _kmq.push(['record', 'Client Loaded - HTML5 ' + game]);
            _kmq.push(["set", {"Landing Page": "signup-2015-06-10-play_page"}]);  // for A/B testing
        })

    </script>
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">


    <!-- Big-daddy client script - controls the rest - must be first -->
    <script type="text/javascript" src="/includes/js/client.js?0.59340300 1548662944"></script>

    <!-- Telnet code/OOB processing scripts -->
    <script type="text/javascript" src="/includes/js/telnet/line.js?0.59340500 1548662944"></script>
    <script type="text/javascript" src="/includes/js/telnet/gmcp.js?0.59340600 1548662944"></script>
    <script type="text/javascript" src="/includes/js/telnet/mxp.js?0.59340600 1548662944"></script>
    <script type="text/javascript" src="/includes/js/telnet/telnet.js?0.59340700 1548662944"></script>

    <!-- Reflex-related scripts -->
    <script type="text/javascript" src="/includes/js/reflexes/packages.js?0.59340800 1548662944"></script>
	<script type="text/javascript" src="/includes/js/reflexes/actions.js?0.59340800 1548662944"></script>
	<script type="text/javascript" src="/includes/js/reflexes/aliases.js?0.59340900 1548662944"></script>
	<script type="text/javascript" src="/includes/js/reflexes/buttons.js?0.59341000 1548662944"></script>
    <script type="text/javascript" src="/includes/js/reflexes/functions.js?0.59341000 1548662944"></script>
    <script type="text/javascript" src="/includes/js/reflexes/reflexes.js?0.59341100 1548662944"></script>
    <script type="text/javascript" src="/includes/js/reflexes/triggers.js?0.59341200 1548662944"></script>
    <script type="text/javascript" src="/includes/js/reflexes/events.js?0.59341200 1548662944"></script>
	<script type="text/javascript" src="/includes/js/reflexes/variables.js?0.59341300 1548662944"></script>

    <!-- UI-related scripts -->
    <script type="text/javascript" src="/includes/js/ui/channels.js?0.59341300 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/keys.js?0.59341400 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/logger.js?0.59341500 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/map.js?0.59341500 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/sounds.js?0.59341600 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/ui.js?0.59341600 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/dialogs.js?0.59341700 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/layout.js?0.59341800 1548662944"></script>
    <script type="text/javascript" src="/includes/js/ui/notifications.js?0.59341800 1548662944"></script>

    <!-- API scripts -->
    <script type="text/javascript" src="/includes/js/api.js?0.59341900 1548662944"></script>

    <!-- Creation scripts -->
    <script type="text/javascript" src="/creation/namegen.js?0.59342000 1548662944"></script>
    <script type="text/javascript" src="/creation/creation.js?0.59342000 1548662944"></script>

    <!-- Game overrides -->
    <script type="text/javascript" src="/games/starmourn/overrides.js?0.59342100 1548662944"></script>

    <script type="text/javascript">var set_element_defaults = function (redo_default_tabs) { 
    // the primary layout
    client_layout = {
        type: "hbox",
        id: "box_1",
        weight: 1,
        elements: [
        {
            // Left panel
            type: "vbox",
            weight: 0.2,
            mobile_weight: 0,
            id: "box_2",
            elements: [
            {
                type: "tabs",
                weight: 0.5,
                id: "container_1",
                name: "Top Left Tabs",
            },
            {
                type: "tabs",
                weight: 0.5,
                id: "container_2",
                name: "Bottom Left Tabs",
            }
            ]
        },
        {
            // Central panel
            type: "vbox",
            weight: 0.6,
            id: "box_3",
            elements: [
            {
                type: "tabs",
                weight: 1,
                id: "main_container",
                name: "Central Area",
            },
            {
                type: "spacer",
                id: "spacer_1",
                spacer: 1,
            },
            {
                type: "static",
                weight: "static",
                id: "bottom",
                size: function () { return client.central_controls_size(); },
                content: function() { return client.draw_central_controls(); },
            }
            ]
        },
        {
            // Right panel
            type: "vbox",
            weight: 0.2,
            mobile_weight: 0,
            id: "box_4",
            elements: [
            {
                type: "tabs",
                weight: 0.5,
                id: "container_3",
                name: "Top Right Tabs",
            },
            {
                type: "tabs",
                weight: 0.5,
                id: "container_4",
                name: "Bottom Right Tabs",
            }
            ]
        },
        ]
    };    client_elements = [
    {
        id: "room",
        tab_type: "content",
        tab_title: "Room Info",
        tab_html: "Room",
        content_html: '<div id="container_room_contents"><div class="section collapsed"><div class="heading no_icon" rel="tooltip" title="Room Description"><span id="s_room_name"></span></div><div class="section_content" id="div_room_description"></div></div><div class="subsection"><div class="heading">Players</div><div class="section_content" id="div_room_players"></div></div><div class="hrule"></div><div class="subsection"><div class="heading">Mobs</div><div class="section_content" id="div_room_mobs"></div></div><div class="hrule"></div><div class="subsection"><div class="heading">Items</div><div class="section_content" id="div_room_items"></div></div></div>',
        icon_active: "room",
        tab_click: function () { send_GMCP('Char.Items.Room', ''); },
    },
    {
        id: "inventory",
        tab_type: "content",
        tab_title: "Inventory",
        tab_html: "Inventory",
        content_html: '<div id="div_inventory" class=""></div>',
        icon_active: "inv",
        tab_click: function () { send_GMCP('Char.Items.Inv', ''); },
    },
    {
        id: "map",
        tab_type: "content",
        tab_title: "Map Window",
        tab_html: "Map",
        content_html: '',
        icon_active: "map",
        tab_click: function () { client.mapper.handle_redraw(); },
    },
    {
        id: "affdef",
        tab_type: "content",
        tab_title: "Your Character",
        tab_html: "You",
        content_html: '',
        icon_active: "profile",
    },
    {
        id: "skills",
        tab_type: "content",
        tab_title: "Skills",
        tab_html: "Skills",
        content_html: '<div id="tbl_skills" class="tab_table" style="border:0"></div>',
        icon_active: "skills",
    },{ id: "quests", tab_type: "content", tab_title: "Quests", tab_html: "Quests", content_html: '<div id="tbl_quests" class="tab_table" style="border:0"></div>', icon_active: "quests" }, 
    {
        id: "all_comm",
        tab_title: "Global Communication Window",
        tab_html: "Communication",
        tab_type: "channel",
        channel: "all",
        icon_active: "chat",
    },
    {
        id: "who",
        tab_type: "content",
        tab_title: "Who's Online",
        tab_html: "Who List",
        content_html: '<div id="div_who_channels" class="" style="max-height: 100px;overflow:auto;"></div><div class="clear" style="border-bottom: 1px solid #999;"></div><div id="div_who_players" class=""></div>',
        icon_active: "who",
    },
    {
        id: "main_output",
        tab_title: "All Game Messages and Information",
        tab_html: "Main",
        tab_type: "main_output",
        icon_active: "main",
    },

    ];

    // Add custom elements if there are any
    if (client.custom_elements)
        for (var i = 0; i < client.custom_elements.length; ++i)
            client_elements.push(client.custom_elements[i]);
    if (redo_default_tabs || (!display_tabs) || (!default_display_tabs)) {
        display_tabs = {
            el_version: 8,
            container_1: [ "map" ],
            container_2: [ "affdef", "skills", "inventory" ],
            container_3: [ "room", "who" ],
            container_4: [ "quests", "all_comm",                 ],
            main_container: [ "main_output" ],
            // floating elements go here - none exist by default
            floaters: {},
            // separated communication channels
            channel_windows: [],
            // disabled central-bottom widgets
            disabled_central: [],
        };
        // apparently javascript has no deep-copy functionality, so we just do this. A bit slow, but we only do this once.
        default_display_tabs = JSON.parse(JSON.stringify(display_tabs)) ;
    } else {
        display_tabs = JSON.parse(JSON.stringify(default_display_tabs));
    }}</script>

</head>
<body id="starmourn">
    <div id="wrap">
        <div id="container">
            <!-- Make the magic happen -->

            <!-- Magic... What are you doing magic?! Magic, stahp! -->
        </div>
        <div id="push"></div>
    </div>
    <div id="holder" style="display:none"></div>
    <div id="footer">
        <div id="help" rel="tooltip" title="Click here to read documentation on Nexus"></div>
        <a id="vote" rel="tooltip" title="Click here to vote for the game" href="https://www.starmourn.com/vote" target="_blank"></a>
        <div class="separator"></div>
        <div id="character_module_status">
            <div id="status-level" class="status-el" rel="tooltip" title="Level"></div>
            <div id="status-target" class="status-el" rel="tooltip" title="Current Target (TAB to change)"></div>
            <div id="status-gold" class="status-el" rel="tooltip" title="Money"></div>
            <div id="status-bank" class="status-el" rel="tooltip" title="Money in Bank"></div>
            <div id="status-ping" class="status-el" rel="tooltip" title="Ping Time"></div>
        </div>
        <div id="character_module_status_right">
            <div id="character_module_extra_icons"></div>
            <div class="separator"></div>
            <div id="status-daytime" rel="tooltip" title="Day/Night Indicator"><div class="daynight-wrap"><div class="daynight-icon"></div></div></div>
            <div class="separator"></div>
            <div id="sidebar_footer_icons">
                <div id="fullscreen" class="off" rel="tooltip" title="Fullscreen Mode">
                    <i class="fa fa-desktop"></i>
                </div>
                <div id="logging" class="off" rel="tooltip" title="Toggle Logging">
                    <i class="fa fa-pencil-square-o"></i>
                </div>
                <div id="fullstop" rel="tooltip" title="Scripts On/Off">
                    <i class="fa fa-bolt"></i>
                </div>
                <div id="mute" rel="tooltip" title="Volume">
                    <i class="fa fa-volume-up"></i>
                </div>
                <div id="open_settings" class="open_settings" rel="tooltip" title="Settings">
                    <i class="fa fa-cogs"></i>
                </div>
                <div id="reset_ui" rel="tooltip" title="Resets UI - If you've reconfigured the UI and things have gone pear-shaped, click this to reset your UI back to its original state.">
                    <i class="fa fa-undo"></i>
                </div>
            </div>
        </div>
    </div>

<script type="text/javascript">

    var gvals = Object();

    var gauge_names = [ 'health', 'overcharge', 'plasma', 'bullets', 'nanites', 'sanity', 'rage', 'parts' ];
    var gauge_vars = [ 'hp', 'oc', 'pl', 'bl', 'nn', 'sa', 'rg', 'pt' ];
    var gauge_colors = [ 'red', 'yellow', 'orange', '#b0b0b0', 'cyan', 'green', 'white', '#778899' ];
    var gauge_texts = [ 'Health represents your physical well-being. When your health reaches 0 you will die.',
        'Overcharge is generated by the B.E.A.S.T. suit and used by various abilities.',
        'Plasma is used to power most Plasmacasting abilities. Excess plasma can cause burning.',
        'Bullets are required to shoot your P.I.E.C.E.',
        'Nanites are miniature machines used to perform all the Nanotech abilities.',
        'Your Sanity is reduced whenever you attempt to channel Empyreal abilities, and regained over time. Low sanity has various negative effects on your character.',
        'Rage allows using various abilities in the skill of the same name. It is generated by using Kithblade abilities.',
		  'Parts are used to construct a wide array of mechanical devices, including bots, gadgets, and turrets.' 
    ];


    var update_gauges = function () {
        var vis = 0;
        for (var i = 0; i < gauge_vars.length; ++i) {
            var gname = gauge_names[i];
            var gvar = gauge_vars[i];
            set_gauge_value(gname, gvals[gvar]);
        }
    }


    var tooltip_balance = "<b>Balance</b><br/><br/>Most physical abilities require that you have Balance and will take away your Balance for a few seconds after you use the ability.";

    var parse_gauges = function(gmcp_args) {
        $(".gauge").css('display', 'none');
        for (var i = 0; i < gauge_vars.length; ++i)
        {
            var gvar = gauge_vars[i];
            var gname = gauge_names[i];
            if (gmcp_args[gvar] == undefined) continue;   // this gauge should remain hidden

            var v = gmcp_args[gvar];
            var max = gmcp_args['max'+gvar];
            var perc = Math.round((v/max) * 100);
            if (perc > 100) perc = 100;
            gvals[gvar] = perc;

            var dispval = gmcp_args['format'+gvar];
            if (typeof dispval == 'undefined') dispval = v;
            $('#character_module_gauge_'+gname+', #character_module_gauge_'+gname+' > *').css('display', 'block');
            gauge_captions('character_module_gauge_' + gname, dispval, client.ucfirst (gname), gauge_texts[i], gauge_colors[i]);
        }

        bal = parseInt(gmcp_args.bal);
        eq = parseInt(gmcp_args.eq);
        $("#character_module_balance").removeClass("lost");
        if (!bal) $("#character_module_balance").addClass("lost");
        $("#character_module_equilibrium").addClass("lost");  // no eq on SM

        update_status_bar();

        update_gauges();
    }
</script>

    <div style="display: none;">

        <div id='m_login_form'>
            <form id="login_form" onsubmit='login(this.char_name.value, this.pass.value, this.load_settings.checked); return false;' style="padding-top:10px;">
                <div class="login_form_notice login_section_top"></div>
                <div class="login_section login_section_left ui-corner-all">
                    <div class="login_heading"><img src="/includes/images/login/title-existing-player.png" /></div>
                    <p>
                            Character Name<br/>
                            <input type='text' id='char_name' name='char_name' class='char_name' value="" />
                    </p>
                    <p>
                            Password<br/>
                            <input type='password' class='pass char_pass' name='pass' value="" />
                    </p>
                    <p>
                        <input type="submit" class="login_button btn_login" />
                    </p>
                    <p style="font-size:0.8em">
                            <label for='load_settings'><input type="checkbox" name='load_settings' id='load_settings' checked /> Load Settings on Login</label>
                    </p>
                    <div class="login_bottom">
                        Forgot your password?<br/><a href="https://starmourn.com/game/recover">Click here!</a>
                    </div>
                    <div style="clear:both"></div>
                </div>
                <div class="login_section login_section_right ui-corner-all">
                    <div class="login_heading"><img src="/games/starmourn/images/title-new-player.png?v=1" /></div>
                    <div><img src="/games/starmourn/images/logo.png" /></div>
                    <div><div id="btn_new_character" class="login_button" onclick='creation_dialog_init("/games/starmourn/new_character.php")'></div></div>
                    <div class="login_bottom">
                    </div>
                    <div style="clear:both"></div>
                </div>
                <div style="clear:both"></div>
                <div class="login_section_bottom"><a href="https://starmourn.com">What is this? Click here to learn more about Starmourn.</a></div>
            </form>
        </div>

        <div id='m_login_form_small'>
            <form id="login_form_small" onsubmit='login(this.char_name.value, this.pass.value, this.load_settings.checked); return false;' style="padding-top:10px;">
                <div class="login_section_small">
                    <div class="login_form_notice"></div>
                    <p>
                            Character Name:<br/>
                            <input type='text' name='char_name' class='char_name' style='width: 100%; font-size: 1.1em; padding: 5px 0px;' value="" />
                    </p>
                    <p>
                            Password:<br/>
                            <input type='password' class='pass char_pass' name='pass' style='width: 100%; font-size: 1.1em; padding: 5px 0px;' value="" />
                    </p>
                    <p>
                        <input type="submit" class="login_button btn_login" />
                    </p>
                    <p style="font-size:0.8em">
                            <label for='load_settings_s'><input type="checkbox" name='load_settings' id='load_settings_s' checked /> Load Settings on Login</label>
                    </p>
                    <p>
                        <div><div id="btn_new_character" class="login_button" onclick='creation_dialog_init("/games/starmourn/new_character.php")'></div></div>
                    </p>
                    <p>
                    </p>
                    <p style="text-align: center;">
                        <small>Forgot your password?<br/><a href="https://starmourn.com/game/recover">Click here!</a></small>
                    </p>
                </div>
            </form>
        </div>

        <div id='m_composer' style="background: #000; color: #fff;">
            <form onsubmit='gmcp_submit_composer(); return false;' style='margin: 5px;'>
                    <p id="composer_title" style='text-align: left; font-weight: bold; font-size: 1.2em;'>Composer</p>
                    <div class="clear"></div>
                    <p style='text-align: center; font-size: 1.3em;'>
                        <textarea id="composer_text" style="font-family: monospace; width: 98%; height: 400px;"></textarea>
                    </p>
                    <div class="clear"></div>
                    <p style='text-align: left;'>
                            <input type='submit' value='Save Composition' />
                            <input type='button' value='Cancel' onclick='send_direct("*quit"); send_direct("no"); $.fn.colorbox.close(); $("#user_input").val("").focus();' />
                    </p>
            </form>
            <br/>
        </div>
    </div>
</body>
</html>
